var PromoWebSocket;!function(){"use strict";PromoWebSocket=function(n,o){var e,t={},c=this;e=function(n,o){var e,c=t[n];if(void 0!==c)for(e=0;e<c.length;e+=1)c[e](o)},c.connect=function(){"function"==typeof MozWebSocket?c.conn=new MozWebSocket(n,o):c.conn=new WebSocket(n,o),c.conn.onmessage=function(n){e("message",n.data)},c.conn.onclose=function(n){e("close",n)},c.conn.onopen=function(n){(n.returnValue||1===n.currentTarget.readyState)&&e("open",n)}},c.disconnect=function(){c.conn.close()},c.bind=function(n,o){return t[n]=t[n]||[],t[n].push(o),this},c.send=function(n,o){try{1==c.conn.readyState&&c.conn.send(o)}catch(n){console.log("Error on Send to IV WebSocket",n)}return this}}}();